/*! Copyright CSG International 2017  Built: 10/31/2017 git revision: 6298d4c */
ascendon="object"==typeof ascendon?ascendon:{},ascendon.service=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=n(58),o=n(73),a=n(5),d=n(2),s=n(4),u=n(81),c=n(6),l=n(82),m=n(83),v=n(86);e.exports={subscriber:r,metadata:i,simple:o,settings:a,events:s,ajax:d,cache:u,enums:c,environment:m,lineOfBusiness:v,console:l}},function(e,t,n){"use strict";var r=n(2),i=n(52),o=n(5),a=n(54),d=n(55),s=n(56),u=n(57),c=n(61),l=n(62),m=n(63),v=n(64),h=n(65),f=n(66),p=n(67),g=n(68),y=n(69),C=n(70),b=n(71),P=n(72);e.exports={domain:"Subscriber",address:d,payment:s,order:a,subscription:u,account:c,redeem:l,device:m,content:v,browse:h,channel:f,offer:p,cases:g,hierarchy:y,household:C,convergentBiller:b,inventory:P,activateSubscriber:function(e){var t={method:"ActivateSubscriber",domain:this.domain,data:{ActivationKey:e}};return r(t,!1)},comprehensiveSearch:function(e){var t={method:"ComprehensiveSearch",domain:this.domain,data:e};return r(t,!1)},search:function(e){var t={method:"Search",domain:this.domain,data:e};return r(t,!1)},searchCatalog:function(e){var t={method:"SearchCatalog",domain:this.domain,data:e};return r(t,!1)},searchLocker:function(e){var t={method:"SearchLocker",domain:this.domain,data:e};return i(t,!1)},ping:function(){var e={method:"Ping",domain:this.domain};return r(e,!1)},pingSession:function(){var e={method:"PingSession",domain:this.domain};return r(e,!1)},refreshSession:function(){var e={method:"RefreshSession",domain:this.domain,data:{RequireAuthenticatedSession:!0}};return r(e,!1)},createSession:function(e){var t={method:"CreateSession",domain:this.domain,data:e};return o.cleanUpSession(),r(t,!0).done(function(e){o.populateSession(e)})},populateSession:function(e){o.populateSession(e)},closeSession:function(e){var t={method:"CloseSession",domain:this.domain,data:e},n=r(t);return n.always(function(){o.cleanUpSession()}),n},cleanUpSession:function(){o.cleanUpSession()},createInteraction:function(e){var t={method:"CreateInteraction",domain:this.domain,data:e};return r(t)},createSubscriber:function(e){var t={method:"CreateSubscriber",domain:this.domain,data:e};return r(t,!e.HouseholdId&&!e.Household).done(function(t){if(e.AutoLogin&&t){o.sessionId=t.SessionId;var n=t.Subscriber;n&&(o.subscriberId=n.Id,o.country=n.HomeCountry,o.sessionSummary={FirstName:n.FirstName}),!o.country&&t.Addresses&&t.Addresses[0]&&(o.country=t.Addresses[0].Country)}})},updateExternalAuthorizations:function(e){var t={method:"UpdateExternalAuthorizations",data:e,domain:this.domain};return r(t)},updatePersonRating:function(e){var t={method:"UpdatePersonRating ",data:e,domain:this.domain};return r(t)},updateProductRating:function(e){var t={method:"UpdateProductRating ",data:e,domain:this.domain};return r(t)},submitSupportEmail:function(e){var t={method:"SubmitSupportEmail",domain:this.domain,data:e};return r(t)},searchList:function(e){var t={method:"SearchList",domain:this.domain,data:e};return r(t)},searchLists:function(e){var t={method:"SearchLists",domain:this.domain,data:e};return r(t)},updateList:function(e){var t={method:"UpdateList",domain:this.domain,data:e};return r(t)},updateSubscriberServiceFriendlyName:function(e){var t={method:"UpdateSubscriberServiceFriendlyName",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(5),a=n(6);e.exports=function(e,t,n,d){if(!o.apiUrl){var s=r.Deferred();return s.reject({Code:0,Message:"Configure was not called, or apiUrl is missing. Skipping "+e.method+".",Severity:4}),i.trigger("failure"),s.promise()}var u;if("subscriber"===e.domain.toLowerCase()||"subscribermanagement"===e.domain.toLowerCase()||"security"===e.domain.toLowerCase()||"lineofbusiness"===e.domain.toLowerCase())u={dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",url:o.apiUrl+"/"+e.domain+"/"+e.method,headers:{"cd-distributionchannel":o.channelId,"cd-devicetype":o.deviceType,"cd-systemid":o.systemId,"cd-language":o.language},data:JSON.stringify(e.data)},d&&(u.headers["cd-JsonLongAsString"]=!0),e.additionalHeaders&&e.additionalHeaders.accessedSubscriberId&&(u.headers["cd-accessedsubscriberid"]=e.additionalHeaders.accessedSubscriberId),"security"!==e.domain.toLowerCase()&&(!t&&o.sessionId&&(u.headers["cd-sessionid"]=o.sessionId),o.subscriberId&&(u.headers["cd-subscriberid"]=o.subscriberId),n&&(u.headers["cd-clonesession"]="true"),o.alternateCountry&&(u.headers["cd-alternatecountry"]=o.alternateCountry));else{var c=o.metadataUrl?o.metadataUrl:o.apiUrl.replace("services","metadata");c=c+"/"+e.method+"/DeviceType/"+o.deviceType+"/DistributionChannel/"+o.channelId+"/SystemId/"+o.systemId+"/Language/"+o.language,e.data&&Object.keys(e.data).forEach(function(t){c+="/"+t+"/"+e.data[t]}),u={dataType:"json",type:"GET",url:c}}var l=r.Deferred();return r.ajax(u).done(function(t,n,r){t&&(t.Fault?(t.Fault.Code===a.errorCodes.sessionExpired&&(o.cleanUpSession(),i.trigger("clearTimerCache")),i.trigger("error",[t.Fault]),i.trigger("error."+e.method,[t.Fault]),l.reject(t.Fault,"error",r)):(l.resolve(t),i.trigger("success."+e.method,t)))}).fail(function(e,t,n){i.trigger("error",n),l.reject(n,t,e)}),l.promise()}},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var r=n(3);e.exports=r({})},function(e,t,n){"use strict";var r=n(4),i=n(6);e.exports={systemId:null,channelId:null,apiUrl:null,metadataUrl:null,language:null,enableCache:!1,anonymousSession:!1,timedCacheInterval:5e3,configure:function(e){this.systemId=e.systemId,this.channelId=e.channelId,this.apiUrl=e.apiUrl,this.metadataUrl=e.metadataUrl,e.deviceType&&(this.deviceType=e.deviceType),this.language=e.language,this.alternateCountry=e.alternateCountry,this.recaptchaSiteKey=e.recaptchaSiteKey,this.uvBridgeUrl=e.uvBridgeUrl,e.enableCache===!0?this.enableCache=!0:e.enableCache===!1&&(this.enableCache=!1),void 0!==e.timedCacheInterval&&(this.timedCacheInterval=e.timedCacheInterval),r.trigger("configure",e)},populateSession:function(e){e&&(this.sessionId=e.SessionId,this.country=e.Country,this.sessionSummary=e.SessionSummary,this.authenticationType=e.AuthenticationType,this.guidanceRatingsCategories=e.GuidanceRatingsCategories,e.SessionSummary&&(this.subscriberId=e.SessionSummary.SubscriberId),this.anonymousSession=e.AuthenticationType===i.sessionLevel.anonymous)},cleanUpSession:function(){delete this.sessionId,delete this.country,delete this.sessionSummary,delete this.authenticationType,delete this.subscriberId,delete this.guidanceRatingsCategories,this.anonymousSession=!1,r.trigger("cleanUpSession")}}},function(e,t,n){"use strict";var r=n(7),i=n(8),o=n(9),a=n(10),d=n(11),s=n(12),u=n(13),c=n(14),l=n(15),m=n(16),v=n(17),h=n(18),f=n(19),p=n(20),g=n(21),y=n(22),C=n(23),b=n(24),P=n(25),S=n(26),I=n(27),x=n(28),O=n(29),R=n(30),T=n(31),A=n(32),w=n(33),D=n(34),U=n(35),M=n(36),B=n(37),F=n(38),j=n(39),E=n(40),k=n(41),L=n(42),N=n(43),V=n(44),H=n(45),G=n(46),Q=n(47),q=n(48),W=n(49),z=n(50),J=n(51);e.exports={accountType:r,addressType:i,billerRuleInstanceType:o,caseCategory:a,caseStatus:d,codeTypes:s,consoleLevel:u,contactEventType:c,contactMethod:l,contextOfferingAction:m,coreErrorCodes:v,deliveryCapability:h,deliveryCapabilityAction:f,deliveryCapabilityGroup:p,deviceType:g,entityType:y,errorCodes:C,inventoryProviderTypes:G,offeringDecisionType:b,offeringOptionStatus:P,offeringType:S,orderStatus:I,orderType:x,os:O,paymentInstrumentType:R,pricingPlanType:T,productLineOfBusiness:A,productStructureType:w,quantityPricingTypeCode:D,reportingLevel:U,searchLockerSource:M,sessionLevel:B,sortDirection:F,sortLibrary:j,sortProduct:E,sortSearchOfferings:k,treatmentStatus:L,uvErrorCodes:N,viewContentTypes:V,errorSubCodes:H,entitlementContextType:Q,invoiceType:q,inventoryCategory:W,inventoryItemStatus:z,recurringPeriodType:J}},function(e,t){e.exports={prepaid:0,postpaid:1,deposit:2}},function(e,t){e.exports={none:0,work:1,home:2,postal:4,billing:8,service:16,shipping:32}},function(e,t){e.exports={entitlement:3,oneTime:2,recurring:0,usage:1}},function(e,t){"use strict";e.exports={troubleCall:1,complaint:2,billingDispute:3,invoiceDispute:4}},function(e,t){"use strict";e.exports={"new":1,open:2,closed:3,cancelled:4,promotedToMaster:5}},function(e,t){e.exports={caseCategory:399,channelCategory:427,countries:59,creditCardTypes:35,currency:36,emailIssueType:181,externalBillTypes:223,externalGiftCardTypes:310,guidanceRating:33,guidanceRatingCategory:32,marketingTemplateType:432,marketingTemplateTypeAttribute:433,offeringExternalReferenceType:362,offeringFacet:358,offeringFacetCategory:357,offeringPresentationPage:369,productFacet:295,productFacetCategory:294,productLineOfBusiness:19,states:60,subscriberRequirements:166,termsAndConditionsConfiguration:131,unitOfMeasure:375,networkEventType:379,businessUnit:10067,entitlementContextType:418,subscriberCategory:449,subscriberType:194,subscriberCommercialCategoryRequirements:451,subscriberResidentialCategoryRequirements:166,additionalProperty:4}},function(e,t){e.exports={none:"none",all:"all",debug:"debug",error:"error"}},function(e,t){"use strict";e.exports={newsletter:1,notSpecified:0,partnerCommunication:2}},function(e,t){"use strict";e.exports={businessPhone:3,email:1,homePhone:2,mailingAddress:6,mobilePhone:4,notSpecified:0,sms:5}},function(e,t){"use strict";e.exports={none:0,add:1,modify:2,transition:3}},function(e,t){e.exports={paymentInstrument:{paymentSourceNotValid:1115,paymentInstrumentAuthorizationFailed:1112,addressValidationFailed:1101,orderSpendingLimitViolation:1031,paymentInstrumentDetailNotFound:1113,paymentInstrumentTypeNotSupported:612,transactionFailure:617,paymentInstrumentNotFound:611,invalidPaymentInstrument:606,payPalProcessingFailure:613,revenueTaxFailure:616,giftCardAlreadyRedeemed:602}}},function(e,t){"use strict";var n=221,r=220,i=232,o=233,a=234,d=235,s=236,u=237,c=238,l=239,m=258,v=259,h=274,f=275,p=278,g=279,y=286,C=287,b=288,P=289,S=352,I=353,x=330,O=331;e.exports={uvSd:n,uvHd:r,streamMacSd:i,streamMacHd:o,downloadMacSd:a,downloadMacHd:d,streamPcSd:s,streamPcHd:u,downloadPcSd:c,downloadPcHd:l,streamAndroidSd:m,streamAndroidHd:v,streamIpadHd:h,streamIpadSd:f,streamIphoneHd:p,streamIphoneSd:g,streamWin8MobileSd:y,streamWin8MobileHd:C,streamWin8TabletSd:b,streamWin8TabletHd:P,streamMacSafariSd:S,streamMacSafariHd:I,castSd:x,castHd:O,streamAllSd:[i,s,m,f,g,y,b,S],streamAllHd:[o,u,v,h,p,C,P,I],streamMobileOnlySd:[m,f,g],streamMobileOnlyHd:[v,h,p],downloadAllSd:[a,c],downloadAllHd:[d,l]}},function(e,t){"use strict";e.exports={all:void 0,onlinePlayback:20,download:1}},function(e,t){"use strict";e.exports={myApps:4,myDownloads:2,myMusic:19,myPurchases:3,myRentals:1}},function(e,t){e.exports={windows:4,linux:3,mac:2,android:16,ipad:25,iphone:26,iemobile:28,unknown:1}},function(e,t){e.exports={AdditionalProperty:16,Case:24,Category:7,Channel:17,ChannelBrand:19,ChannelBrandList:20,Coupon:13,CrossSellTag:6,Discount:4,DistributionChannel:11,Media:3,None:0,Offering:21,Person:9,Playlist:8,Policy:22,PricingPlan:2,Product:1,ProductPricingPlan:10,Program:25,SearchFilter:27,Segment:5,SegmentationRule:12,Service:18,ShippingMethod:14,Storefront:15,StorefrontPage:26,UsageRule:23}},function(e,t){e.exports={unknown:0,invalidApiMethod:20,invalidApiAction:21,underMaintenance:22,technicalIssue:23,systemBusy:24,systemBusySessionLimit:25,deprecatedFunctionality:26,invalidRequest:27,asyncRequestFailed:28,invalidSystemId:104,sessionExpired:109,distributionChannelNotFound:112,loginExists:113,sessionNotFound:114,invalidLogin:117,invalidProperty:118,dateAndTimeDenied:124,invalidShoppingCart:1019}},function(e,t){"use strict";e.exports={decisionGroup:1,quantityPrice:2,serviceAttributeValue:3}},function(e,t){"use strict";e.exports={active:1,removed:2,pendingActive:3,pendingRemoved:4}},function(e,t){e.exports={simple:1,complex:2}},function(e,t){e.exports={pending:0,open:1,complete:2,canceled:3}},function(e,t){"use strict";e.exports={Order:0,AnonymousGiftOrder:1,AnonymousOrder:2,GiftOrder:3,GiftRedemptionOrder:4,ModifyOrder:5,RemoveOrder:6,RenewOrder:7,RestoreOrder:8,UpgradeOrder:9}},function(e,t){e.exports={windows:"windows",mac:"mac",unix:"unix",linux:"linux",ipad:"ipad",iphone:"iphone",android:"android",iemobile:"iemobile"}},function(e,t){"use strict";e.exports={creditCard:0,eCheck:1,storedValue:2,giftCard:3,externalBill:4,payPal:5,iTunes:6,directDebit:8,xbox:9,externalGiftCard:10,roku:11,googlePlay:12}},function(e,t){"use strict";e.exports={InstantlyViewableEpisodic:0,BrowseOnly:1,Orderable:2,InstantlyViewableSegmentation:3}},function(e,t){e.exports={audioContent:1,digitalContent:10,electronicPrintMedia:104,games:4,giftCards:5,neutral:0,printContent:101,software:3,storedValueAccounts:6,videoContent:2}},function(e,t){e.exports={alacarte:1,bundle:2,picklist:3,episodicBundle:4,seriesContainer:5}},function(e,t){"use strict";e.exports={tiered:2,tapered:3}},function(e,t){e.exports={Invoice:1,Statement:2,None:3}},function(e,t){e.exports={all:1,internal:2,external:3}},function(e,t){e.exports={notAllowed:0,optional:1,anonymous:2,unauthenticated:3,authenticatedDevice:4,authenticatedSubscriber:5,authenticatedUser:6}},function(e,t){e.exports={ascending:1,descending:2}},function(e,t){e.exports={name:1,orderDate:2}},function(e,t){e.exports={name:1,referenceDate:2,peerRating:3,relevance:4}},function(e,t){e.exports={name:1,relevance:2}},function(e,t){"use strict";e.exports={none:0,inTreatment:1,inTreatmentWithPromiseToPay:2}},function(e,t){e.exports={password:118,uvUserCreationFailed:1132,invalidProduct:920,productNotFound:213,requiresPaymentInstrument:607,noPricingPlans:900001,noProductsForCoupon:900002,codeAlreadyRedeemed:900003}},function(e,t){e.exports={contentItem:0,preview:1,relatedMedia:2,channel:3}},function(e,t){e.exports={unknown:0,invalidPassword:11725,noAvailablePaymentInstrumentTypes:101904}},function(e,t){e.exports={none:0,voice:1}},function(e,t){"use strict";e.exports={service:1,shareWithinIndividual:2,shareWithOthers:3}},function(e,t){"use strict";e.exports={html:1,pdf:2}},function(e,t){e.exports={none:0,logical:1,physical:2}},function(e,t){e.exports={active:1,removed:2,suspended:3,pendingApproval:4}},function(e,t){e.exports={hourly:0,daily:1,weekly:2,monthly:3,yearly:4}},function(e,t,n){"use strict";function r(){i=setInterval(function(){a.trigger("clearTimerCache")},d.timedCacheInterval)}var i,o=n(2),a=n(4),d=n(5),s=n(53)();a.on("configure success.CloseSession success.CreateSession clearTimerCache success.SubmitOrder success.SubmitGiftOrder success.SubmitGiftRedemptionOrder cleanUpSession",function(){s.clearCache(),clearInterval(i),r()}),r(),e.exports=function(e,t,n){return d.enableCache&&0!==d.timedCacheInterval?s.retrieveOrFetch(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";var r=n(3),i=n(2);e.exports=function(){var e={},t={},n=function(){e={}},o=function(n,o,a){var d=JSON.stringify(n);if(!e[d]){t[d]||(t[d]=[]),0===t[d].length&&i(n,o,a).done(function(n){e[d]=[n];var i=[].concat(t[d]);t[d].length=0,i.forEach(function(e){e.resolve(r.extend(!0,{},n))})}).fail(function(e){var n=[].concat(t[d]);t[d].length=0,n.forEach(function(t){t.reject(e)})});var s=r.Deferred();return t[d].push(s),s.promise()}var u=e[d];return r.Deferred().resolve(r.extend(!0,{},u[0])).promise()};return{clearCache:n,retrieveOrFetch:o}}},function(e,t,n){"use strict";var r=n(2),i=n(52);e.exports={domain:"Subscriber",calculateModifyOrderQuote:function(e){var t={method:"CalculateModifyOrderQuote",domain:this.domain,data:e};return r(t)},calculateOrderQuote:function(e){var t={method:"CalculateOrderQuote",domain:this.domain,data:e};return r(t)},calculateRemoveOrderQuote:function(e){var t={method:"CalculateRemoveOrderQuote",domain:this.domain,data:e};return r(t)},calculateRenewOrderQuote:function(e){var t={method:"CalculateRenewOrderQuote",domain:this.domain,data:e};return r(t)},cancelOrder:function(e){var t={method:"CancelOrder",domain:this.domain,data:e};return r(t)},previewGiftRedemptionOrder:function(e){var t={method:"PreviewGiftRedemptionOrder",domain:this.domain,data:e};return r(t)},retrieveOrder:function(e){var t={method:"RetrieveOrder",domain:this.domain,data:e};return r(t)},retrieveProductContext:function(e){var t={method:"RetrieveProductContext",domain:this.domain,data:e};return i(t)},retrieveProductRecommendations:function(e){var t={method:"RetrieveProductRecommendations",domain:this.domain,data:e};return r(t)},retrieveShoppingCart:function(e){var t={method:"RetrieveShoppingCart",domain:this.domain,data:e};return r(t,null,null,!0)},searchOrders:function(e){var t={method:"SearchOrders",domain:this.domain,data:e};return r(t)},searchProducts:function(e){var t={method:"SearchProducts",domain:this.domain,data:e};return i(t,!0)},searchProductsByCoupon:function(e){var t={method:"SearchProductsByCoupon",domain:this.domain,data:e};return r(t)},submitAnonymousOrder:function(e){var t={method:"SubmitAnonymousOrder",domain:this.domain,data:e};return r(t)},submitGiftOrder:function(e){var t={method:"SubmitGiftOrder",domain:this.domain,data:e};return r(t)},submitGiftRedemptionOrder:function(e){var t={method:"SubmitGiftRedemptionOrder",domain:this.domain,data:e};return r(t)},submitModifyOrder:function(e){var t={method:"SubmitModifyOrder",domain:this.domain,data:e};return r(t)},submitAnonymousGiftOrder:function(e){var t={method:"SubmitAnonymousGiftOrder",domain:this.domain,data:e};return r(t)},submitOneTimePayment:function(e){var t={method:"SubmitOneTimePayment",domain:this.domain,data:e};return r(t)},submitOrder:function(e){var t={method:"SubmitOrder",domain:this.domain,data:e};return r(t)},submitRemoveOrder:function(e){var t={method:"SubmitRemoveOrder",domain:this.domain,data:e};return r(t)},submitRenewOrder:function(e){var t={method:"SubmitRenewOrder",domain:this.domain,data:e};return r(t)},submitRestoreOrder:function(e){var t={method:"SubmitRestoreOrder",domain:this.domain,data:e};return r(t)},submitUpgradeOrder:function(e){var t={method:"SubmitUpgradeOrder",domain:this.domain,data:e};return r(t)},updateShoppingCart:function(e){var t={method:"UpdateShoppingCart",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",retrieveAddresses:function(e){var t={method:"RetrieveAddresses",domain:this.domain,data:e};return r(t)},retrieveAddress:function(e){var t={method:"RetrieveAddress",domain:this.domain,data:e};return r(t)},updateAddress:function(e){var t={method:"UpdateAddress",domain:this.domain,data:e};return r(t)},createAddress:function(e){var t={method:"CreateAddress",domain:this.domain,data:e};return r(t)},removeAddress:function(e){var t={method:"RemoveAddress",domain:this.domain,data:e};return r(t)},validateAddress:function(e){var t={method:"ValidateAddress",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",chargePaymentInstrument:function(e){var t={method:"ChargePaymentInstrument",domain:this.domain,data:e};return r(t)},completeOrderPayment:function(e){var t={method:"CompleteOrderPayment",domain:this.domain,data:e};return r(t)},createPaymentInstrument:function(e){var t={method:"CreatePaymentInstrument",domain:this.domain,data:e};return r(t)},removePaymentInstrument:function(e){var t={method:"RemovePaymentInstrument",domain:this.domain,data:e};return r(t)},retrievePayPalToken:function(e){var t={method:"RetrievePayPalToken",domain:this.domain,data:e};return r(t)},retrieveBraintreeClientToken:function(e){var t={method:"RetrieveBraintreeClientToken",domain:this.domain,data:e};return r(t)},retrievePaymentInstrument:function(e){var t={method:"RetrievePaymentInstrument",domain:this.domain,data:e};return r(t)},searchTransactions:function(e){var t={method:"SearchTransactions ",domain:this.domain,data:e};return r(t)},updatePaymentInstrument:function(e){var t={method:"UpdatePaymentInstrument",domain:this.domain,data:e};return r(t)},validatePaymentInstrument:function(e){var t={method:"ValidatePaymentInstrument",domain:this.domain,data:e};return r(t)},retrieveWallet:function(e){var t={method:"RetrieveWallet",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(3),i=n(2),o=n(58),a=n(60),d=n(5);e.exports={domain:"Subscriber",createExternalAuthorizations:function(e){var t={method:"CreateExternalAuthorizations",domain:this.domain,data:e};return i(t)},retrieveOffering:function(e){var t={method:"RetrieveOffering",domain:this.domain,data:{Id:e}};return i(t)},retrieveSubscriber:function(){var e={method:"RetrieveSubscriber",domain:this.domain};return i(e)},retrieveSubscriberContext:function(){var e={method:"RetrieveSubscriberContext",domain:this.domain};return i(e,!0).done(function(e){e&&(!d.guidanceRatingsCategories&&e.GuidanceRatingsCategories&&(d.guidanceRatingsCategories=e.GuidanceRatingsCategories),!d.country&&e.LocationCountry&&(d.country=e.LocationCountry))})},retrieveSubscription:function(e){var t={method:"RetrieveSubscription",domain:this.domain,data:e};return i(t)},removeContentViews:function(e){var t={method:"RemoveContentViews",domain:this.domain,data:e};return i(t)},retrieveCategoriesForCategoryContext:function(e){var t=this,n=r.Deferred(),i={categories:[]},d=[],s=[],u=[];return u.push(t.retrieveCategoryContext()),u.push(o.categories(e)),r.when.apply(null,u).done(function(){if(r.each(arguments,function(e,t){0===e?d=t.NonQualifiedCategoryIds:1===e&&(s=t.Categories)}),void 0!==d&&d.length>0&&void 0!==s&&s.length>0){for(var e=s,t=0,o=d.length;t<o;t+=1)for(var u=0,c=e.length;u<c;u+=1)if(e[u].Id===d[t])e.splice(u,1);else if(void 0!==e[u].Children&&e[u].Children.length>0)for(var l=0,m=e[u].Children.length;l<m;l+=1)e[u].Children[l].Id===d[t]&&e[u].Children.splice(l,1);void 0!==e&&e.length>0?(i.categories=e,n.resolve(i)):n.reject(a.getFault("subscriberNoCategoriesForContext"))}else void 0!==d&&0===d.length&&void 0!==s&&s.length>0?(i.categories=s,n.resolve(i)):n.reject(a.getFault("systemError"))}).fail(function(){n.reject(a.getFault("systemError"))}),n.promise()},retrievePersonContext:function(e){var t={method:"RetrievePersonContext",domain:this.domain,data:e};return i(t)},retrievePlaylistContext:function(e){var t={method:"RetrievePlaylistContext",domain:this.domain,data:e};return i(t)},searchContentViews:function(e){var t={method:"SearchContentViews",domain:this.domain,data:e};return i(t)},searchOfferings:function(e){var t={method:"SearchOfferings",domain:this.domain,data:e};return i(t)},searchPersons:function(e){var t={method:"SearchPersons",domain:this.domain,data:e};return i(t)},searchSubscriptions:function(e){var t={method:"SearchSubscriptions",domain:this.domain,data:e};return i(t)},updateSubscription:function(e){var t={method:"UpdateSubscription",domain:this.domain,data:e};return i(t)}}},function(e,t,n){"use strict";var r=n(59);e.exports={domain:"Metadata",categories:function(e){var t={method:"Categories",domain:this.domain,data:e};return r(t)},channels:function(){var e={method:"Channels",domain:this.domain};return r(e)},channelBrand:function(e){var t={method:"ChannelBrand",domain:this.domain,data:e};return r(t)},codes:function(e){var t={method:"Codes",domain:this.domain,data:{Type:e}};return r(t)},coupon:function(e){var t={method:"Coupon",domain:this.domain,data:e};return r(t)},discretionaryDiscounts:function(e){var t={method:"DiscretionaryDiscounts",domain:this.domain,data:e};return r(t)},guide:function(e){var t={method:"Guide",domain:this.domain,data:e};return r(t)},media:function(e){var t={method:"Media",domain:this.domain,data:{Id:e||0}};return r(t)},offering:function(e){var t={method:"Offering",domain:this.domain,data:e};return r(t)},peopleForBrowse:function(){var e={method:"PeopleForBrowse",domain:this.domain};return r(e)},person:function(e){var t={method:"Person",domain:this.domain,data:{Id:e||0}};return r(t)},ping:function(){var e={method:"Ping",domain:this.domain};return r(e)},playlist:function(e){var t={method:"Playlist",domain:this.domain,data:e};return r(t)},product:function(e){var t={method:"Product",domain:this.domain,data:e};return r(t)},program:function(e){var t={method:"Program",domain:this.domain,data:e};return r(t)},promotion:function(e){var t={method:"Promotion",domain:this.domain,data:e};return r(t)},searchSuggestions:function(e){var t={method:"SearchSuggestions",domain:this.domain,data:e};return r(t)},storefront:function(){var e={method:"Storefront",domain:this.domain};return r(e)},storefrontPage:function(e){var t={method:"StorefrontPage",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(5),a=n(53)();i.on("configure success.SubmitOrder success.CloseSession success.CreateSession cleanUpSession",function(){a.clearCache()}),e.exports=function(e,t,n){return o.enableCache?a.retrieveOrFetch(e,t,n):r(e,t,n)}},function(e,t){"use strict";e.exports={resources:{systemError:{Code:-1,Message:"There was a fatal system error."},invalidRequest:{Code:499999,Message:"Invalid Request."},invalidMediaResponse:{Code:5e5,Message:"Invalid Media metadata response"},invalidViewContentResponse:{Code:500001,Message:"Invalid ViewContent response"},invalidRetrieveStorefrontPageContextResponse:{Code:500002,Message:"Invalid RetrieveStorefrontPageContext response"},invalidStorefrontMetadataResponse:{Code:500003,Message:"Invalid Storefront metadata response"},invalidRetrieveCategoryContextResponse:{Code:500004,Message:"Invalid RetrieveCategoryContext response"},retrieveWalletAndPaymentInstrumentsFailure:{Code:600001,Message:"Could not retrieve Payment Instruments."},subscriberNoCategoriesForContext:{Code:700001,Message:"No categories were returned."},retrieveProductCannotRetrieveContexts:{Code:800001,Message:"Error retrieving contexts for referenced products"},redeemCouponFreeOrderablePricingPlansNotFound:{Code:900001,Message:"No Orderable Pricing Plans for Coupon"},redeemCouponProductsForCouponNotFound:{Code:900002,Message:"No Products for Coupon"},productPricingPlanRequired:{Code:1e6,Message:"Both product id and pricing plan id are required if either is specified."},noProductsRequested:{Code:1000001,Message:"No products requested."},uvUserExists:{Code:11e5,Message:"This UV username already exists."}},getFault:function(e){if(void 0!==e&&"string"==typeof e){if(this.resources[e]&&void 0!==this.resources[e]){var t=this.resources[e];return t.Severity=4,t}return{Code:-1,Message:"The fault resource key is invalid.",Severity:4}}return{Code:-1,Message:"A fault resource key is required.",Severity:4}}}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(60);e.exports={domain:"Subscriber",activateExternalContent:function(){var e={method:"ActivateExternalContent",domain:this.domain};return r(e)},emailLogin:function(e){var t={method:"EmailLogin",domain:this.domain,data:e};return r(t)},generatePassword:function(e){var t={method:"GeneratePassword",domain:this.domain,data:e};return r(t)},validateUvUser:function(e){var t={method:"ValidateUvUser",data:e,domain:this.domain};return r(t)},linkNewUvUser:function(e){var t=i.Deferred(),n={method:"LinkNewUvUser",domain:this.domain,data:e};return this.validateUvUser({Username:e.Username}).done(function(e){e.UsernameExists?t.reject(o.getFault("uvUserExists")):r(n).done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)})}).fail(function(e){t.reject(e)}),t.promise()},linkOAuthClient:function(e){var t={method:"LinkOAuthClient",domain:this.domain,data:e};return r(t)},retrieveSubscriber:function(){var e={method:"RetrieveSubscriber",domain:this.domain};return r(e)},updateSubscriber:function(e){var t={method:"UpdateSubscriber",domain:this.domain,data:e};return r(t)},resendSubscriberActivationEmail:function(e){var t={method:"ResendSubscriberActivationEmail",domain:this.domain,data:{Email:e}};return r(t)},resetPassword:function(e){var t={method:"ResetPassword",domain:this.domain,data:e};return r(t)},retrieveUvUser:function(){var e={method:"RetrieveUvUser",domain:this.domain};return r(e)},updateCredentials:function(e){var t={method:"UpdateCredentials",domain:this.domain,data:e};return r(t)},validateCredentials:function(e){var t={method:"ValidateCredentials",domain:this.domain,data:e};return r(t)},retrieveRecentActivities:function(e){var t={method:"RetrieveRecentActivities",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",activateDiscounts:function(e){var t={method:"ActivateDiscounts",domain:this.domain,data:e};return r(t)},applyCoupon:function(e){var t={method:"ApplyCoupon",domain:this.domain,data:e};return r(t)},redeemGiftCard:function(e){var t={method:"RedeemGiftCard",domain:this.domain,data:e};return r(t)},retrieveCouponStatistics:function(e){var t={method:"RetrieveCouponStatistics",domain:this.domain,data:e};return r(t)},searchRedemptionCodes:function(e){var t={method:"SearchRedemptionCodes",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",generateDeviceRendezvousCode:function(e){var t={method:"GenerateDeviceRendezvousCode",domain:this.domain,data:e};return r(t,!0)},initiateDeviceLeave:function(e){var t={method:"InitiateDeviceLeave",domain:this.domain,data:e};return r(t)},promoteDeviceSession:function(e){var t={method:"PromoteDeviceSession",domain:this.domain,data:e};return r(t)},registerDevice:function(e){var t={method:"RegisterDevice",domain:this.domain,data:e};return r(t)},retrieveDeviceJoinTrigger:function(e){var t={method:"RetrieveDeviceJoinTrigger",domain:this.domain,data:e};return r(t)},retrieveDevicePinStatus:function(){var e={method:"RetrieveDevicePinStatus",domain:this.domain};return r(e)},retrieveDeviceRendezvousStatus:function(e){var t={method:"RetrieveDeviceRendezvousStatus",domain:this.domain,data:e};return r(t)},retrieveDevices:function(){var e={method:"RetrieveDevices",domain:this.domain};return r(e)},unregisterDevice:function(e){var t={method:"UnregisterDevice",domain:this.domain,data:e};return r(t)},updateDevice:function(e){var t={method:"UpdateDevice",domain:this.domain,data:e};return r(t)},updateDevicePin:function(e){var t={method:"UpdateDevicePin",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2),i={video:0,preview:1,relatedMedia:2};e.exports={domain:"Subscriber",viewContent:function(e){var t=e;e.PreviewId&&(t.ViewContentType=i.preview);var n={method:"ViewContent",data:t,domain:this.domain},o=t.ViewContentType===i.preview;return r(n,o)},viewContentChromecast:function(e){var t=e;e.PreviewId&&(t.ViewContentType=i.preview);var n={method:"ViewContent",data:t,domain:this.domain};return r(n,!1,!0)},updateContentProgress:function(e){var t={method:"UpdateContentProgress",data:e,domain:this.domain};return r(t)},updateMediaRating:function(e){var t={method:"UpdateMediaRating",data:e,domain:this.domain};return r(t)},validateEntitlements:function(e){var t={method:"ValidateEntitlements",data:e,domain:this.domain};return r(t)}}},function(e,t,n){"use strict";var r=n(59);e.exports={domain:"Subscriber",retrieveStorefrontPageContext:function(e){var t={method:"RetrieveStorefrontPageContext",domain:this.domain,data:e};return r(t,!0)},retrieveCategoryContext:function(){var e={method:"RetrieveCategoryContext",domain:this.domain};return r(e,!0)}}},function(e,t,n){"use strict";var r=n(2),i=n(59);e.exports={domain:"Subscriber",searchProductsByChannel:function(e){var t={method:"SearchProductsByChannel",domain:this.domain,data:e};return r(t)},retrieveRelatedAirings:function(e){var t={method:"RetrieveRelatedAirings",domain:this.domain,data:e};return r(t)},retrieveChannelContext:function(e){var t={method:"RetrieveChannelContext",domain:this.domain,data:e};return i(t)},retrieveProgramContext:function(e){var t={method:"RetrieveProgramContext",domain:this.domain,data:e};return r(t)},searchAirings:function(e){var t={method:"SearchAirings",domain:this.domain,data:e};return r(t)},searchChannels:function(e){var t={method:"SearchChannels",domain:this.domain,data:e};return r(t)},retrieveChannelBrandContext:function(e){
var t={method:"RetrieveChannelBrandContext",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",searchOfferings:function(e){var t={method:"SearchOfferings",domain:this.domain,data:e};return r(t,null,null,!0)},retrieveOfferingContext:function(e){var t={method:"RetrieveOfferingContext",domain:this.domain,data:e};return r(t,null,null,!0)},retrieveTransitionContext:function(e){var t={method:"RetrieveTransitionContext",domain:this.domain,data:{Offerings:e}};return r(t,null,null,!0)},retrieveAvailableTopUps:function(){var e={method:"RetrieveAvailableTopUps",domain:this.domain};return r(e,null,null,!0)},submitTopUp:function(e){var t={method:"SubmitTopUp",domain:this.domain,data:e};return r(t,null,null,!0)},calculateChangeOfServiceOrderQuote:function(e){var t={method:"CalculateChangeOfServiceOrderQuote",domain:this.domain,data:e};return r(t)},submitChangeOfServiceOrder:function(e){var t={method:"SubmitChangeOfServiceOrder ",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",createCase:function(e){var t={method:"CreateCase",domain:this.domain,data:e};return r(t)},searchCases:function(e){var t={method:"SearchCases",domain:this.domain,data:e};return r(t)},retrieveCase:function(e){var t={method:"RetrieveCase",domain:this.domain,data:{Id:{Value:e}}};return r(t)},updateCase:function(e){var t={method:"UpdateCase",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",retrieveHierarchy:function(e){var t={method:"RetrieveHierarchy",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",createHousehold:function(e){var t={method:"CreateHousehold",domain:this.domain,data:e};return r(t)},removeHousehold:function(e){var t={method:"RemoveHousehold",domain:this.domain,data:e};return r(t)},retrieveHouseholds:function(e){var t={method:"RetrieveHouseholds",domain:this.domain,data:e};return r(t)},updateHouseholdMembers:function(e){var t={method:"UpdateHouseholdMembers",data:e,domain:this.domain};return r(t)},updateHousehold:function(e){var t={method:"UpdateHousehold",data:e,domain:this.domain};return r(t)},retrieveHouseholdMemberToService:function(){var e={method:"RetrieveHouseholdMemberToService",domain:this.domain};return r(e)},updateHouseholdMemberToServices:function(e){var t={method:"UpdateHouseholdMemberToServices",data:e,domain:this.domain};return r(t)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",retrieveConvergentBillerSubscriberSummary:function(e){var t={method:"RetrieveConvergentBillerSubscriberSummary",domain:this.domain};return e&&e.accessedSubscriberId&&(t.additionalHeaders={accessedSubscriberId:e.accessedSubscriberId}),r(t,null,null,!0)},retrieveConvergentBillerSubscriberTreatmentDetails:function(e){var t={method:"RetrieveConvergentBillerSubscriberTreatmentDetails",domain:this.domain};return e&&e.accessedSubscriberId&&(t.additionalHeaders={accessedSubscriberId:e.accessedSubscriberId}),r(t,null,null,!0)},retrieveConvergentBillerSubscriberAccounts:function(){var e={method:"RetrieveConvergentBillerSubscriberAccounts",domain:this.domain};return r(e,null,null,!0)},retrieveConvergentBillerAccountDetails:function(){var e={method:"RetrieveConvergentBillerAccountDetails",domain:this.domain};return r(e,null,null,!0)},retrieveConvergentBillerAccountSummary:function(){var e={method:"RetrieveConvergentBillerAccountSummary",domain:this.domain};return r(e,null,null,!0)},retrieveConvergentBillerAccountUsageDetails:function(e){var t={method:"RetrieveConvergentBillerAccountUsageDetails",domain:this.domain,data:e};return r(t,null,null,!0)},retrieveConvergentBillerInvoices:function(){var e={method:"RetrieveConvergentBillerInvoices",domain:this.domain};return r(e,null,null,!0)},retrieveConvergentBillerInvoice:function(e){var t={method:"RetrieveConvergentBillerInvoice",domain:this.domain,data:e};return r(t,null,null,!0)}}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"Subscriber",searchInventory:function(e){var t={method:"SearchInventory",domain:this.domain,data:e};return r(t)},searchSubscriberInventory:function(e){var t={method:"SearchSubscriberInventory",domain:this.domain,data:e};return r(t)},retrieveSubscriberInventory:function(e){var t={method:"RetrieveSubscriberInventory",domain:this.domain,data:e};return r(t)}}},function(e,t,n){"use strict";var r=n(74),i=n(76),o=n(77),a=n(78),d=n(79),s=n(80);e.exports={domain:"Simple",product:r,browse:i,content:o,metadata:a,payment:d,order:s}},function(e,t,n){"use strict";var r=n(3),i=n(58),o=n(54),a=n(60),d=n(75);e.exports={domain:"Simple",retrieveProduct:function(e){var t=r.Deferred();void 0===e.IncludeContext&&(e.IncludeContext=!0),void 0===e.IncludeReferencedProductsContexts&&(e.IncludeReferencedProductsContexts=!0);var n=e.ProductId||e.Id;return i.product({Id:n}).done(function(i){if(d.cleanProductImageUrls(i.Product),e.IncludeContext){var s={ProductId:n,IncludeOrderablePricingPlans:!0,IncludeEntitlementContext:!0};if(e.RedemptionCodes&&e.RedemptionCodes.length>0&&(s.RedemptionCodes=e.RedemptionCodes),i&&i.Product&&i.Product.ReferencedProducts&&i.Product.ReferencedProducts.length>50&&e.IncludeReferencedProductsContexts){var u=[],c=[];r.each(i.Product.ReferencedProducts,function(e,t){u.push(t.Key)});for(var l=Math.floor(u.length/50)+(u.length%50===0&&u.length>0?0:1),m=0;m<l;m+=1)l>1&&(s.EpisodicChildProducts=u.slice(50*m,50*m+50)),c.push(o.retrieveProductContext(s));c.length>0?r.when.apply(null,c).done(function(){var n=[];if(c&&1===c.length?n.push(arguments[0]):r.each(arguments,function(e,t){n.push(t.ProductContext)}),i&&n.length>0){var o={product:i.Product};e.IncludeContext&&(o.contexts=n),t.resolve(o)}else t.reject(a.getFault("retrieveProductCannotRetrieveContexts"))}).fail(function(e){t.reject(e)}):t.reject(a.getFault("retrieveProductCannotRetrieveContexts"))}else o.retrieveProductContext(s).done(function(e){var n={product:i.Product,contexts:[e.ProductContext]};t.resolve(n)}).fail(function(e){t.reject(e)})}else t.resolve({product:i.Product})}).fail(function(e){t.reject(e)}),t.promise()}}},function(e,t,n){"use strict";var r=n(3);e.exports={filterBuckets:function(e,t){return r.grep(e,function(e){return t.indexOf(e.CategoryId)===-1})},cleanProductImageUrls:function(e){var t=this;e&&(e.ThumbnailUrl&&(e.ThumbnailUrl=this.removeProtocol(e.ThumbnailUrl)),e.ImageUrl&&(e.ImageUrl=this.removeProtocol(e.ImageUrl)),e.DetailImageUrl&&(e.DetailImageUrl=this.removeProtocol(e.DetailImageUrl)),e.Previews&&e.Previews.length&&r.each(e.Previews,function(e,n){n.ThumbnailUrl&&(n.ThumbnailUrl=t.removeProtocol(n.ThumbnailUrl))}),e.ReferencedProducts&&e.ReferencedProducts.length&&r.each(e.ReferencedProducts,function(e,n){n.Value&&(n.Value.ImageUrl&&(n.Value.ImageUrl=t.removeProtocol(n.Value.ImageUrl)),n.Value.ThumbnailUrl&&(n.Value.ThumbnailUrl=t.removeProtocol(n.Value.ThumbnailUrl)))}))},removeProtocol:function(e){return e.replace("http://","//").replace("https://","//")},filterBucketProducts:function(e,t){var n=e;return r.each(e,function(n){var i=e[n];i.Products&&i.Products.length>0&&(i.Products=r.grep(i.Products,function(e){return t.indexOf(e)===-1}))}),n},filterFeaturedItems:function(e,t){return r.grep(e,function(e){return t.indexOf(e.ProductId)===-1})},retrieveQualifiedStorefrontPageId:function(e,t){var n=e;return t.indexOf(e)===-1&&(n=t[0]),n}}},function(e,t,n){"use strict";function r(e,t){var n=o.Deferred();if(t){var r=[];o.each(e.Products,function(e,t){r.push(a.product({Id:t.Key}))}),o.when.apply(null,r).done(function(){var e=[];o.each(arguments,function(t,n){e.push(n.Product)}),n.resolve(e)}).fail(function(e){n.reject(e)})}else{var i=o.map(e.Products,function(e){return e.Value});n.resolve(i)}return n.promise()}function i(e,t,n,r){var i=[],a=[],d=[];o.each(n,function(t,n){o.each(e,function(e,t){t.Id===n.ProductId&&a.push(t)})});var s=0;return o.each(t,function(t,n){i[s]=[],i[s].name=n.Name,i[s].category=n.CategoryId,o.each(n.Products,function(t,n){o.each(e,function(e,t){t.Id===n&&i[s].push(t)})}),n.ChannelBrands&&o.each(n.ChannelBrands,function(e,t){o.each(r,function(e,n){n.Key===t&&(n.Value.ThumbnailUrl=n.Value.LogoColorUrl,n.Value.Id=t,d.push(n.Value))})}),s+=1}),{Buckets:i,FeaturedItems:a,Brands:d}}var o=n(3),a=n(58),d=n(65),s=n(75),u=n(60);e.exports={domain:"Simple",retrieveStorefrontPageDetails:function(e){var t,n,c,l=o.Deferred(),m=[],v={ReturnAvailablePages:e.ReturnAvailablePages};return e.Id?v.Id=e.Id:e.ExternalReference&&(v.ExternalReference=e.ExternalReference),d.retrieveStorefrontPageContext(v).done(function(v){v&&v.Id?v.QualifiedStorefrontPageIds&&v.QualifiedStorefrontPageIds.length>0?(t=s.retrieveQualifiedStorefrontPageId(v.Id,v.QualifiedStorefrontPageIds),n=v.NonQualifiedProductIds||[],m.push(a.storefrontPage({Id:t})),m.push(d.retrieveCategoryContext()),o.when.apply(null,m).done(function(t,o){if(!t||!t.Page)return l.reject(u.resources.invalidStorefrontMetadataResponse),!1;if(!o)return l.reject(u.resources.invalidRetrieveCategoryContextResponse),!1;var a={Name:t.Page.Name||"",Id:t.Page.Id,Buckets:t.Page.Buckets||[],FeaturedItems:t.Page.FeaturedItems||[]};c=o.NonQualifiedCategoryIds||[],c.length>0&&(a.Buckets=s.filterBuckets(a.Buckets,c)),n.length>0&&(a.Buckets=s.filterBucketProducts(a.Buckets,n),a.FeaturedItems.length>0&&(a.FeaturedItems=s.filterFeaturedItems(a.FeaturedItems,n))),r(t,e.loadFullProducts).then(function(e){var n=i(e,a.Buckets,a.FeaturedItems,t.ChannelBrands);a.Buckets=n.Buckets,a.FeaturedItems=n.FeaturedItems,a.Brands=n.Brands,l.resolve(a)},function(e){l.reject(e)})}).fail(function(e){l.reject(e)})):l.reject(u.resources.noQualifiedStorefrontPagesAvailable):l.reject(u.resources.invalidStorefrontPageContextResponse)}).fail(function(e){l.reject(e)}),l.promise()}}},function(e,t,n){"use strict";var r=n(3),i=n(58),o=n(64),a=n(74),d=n(60),s=n(6);e.exports={domain:"Simple",retrieveViewingDetails:function(e,t){var n,a=r.Deferred(),s=[],u=function(e){e&&e.MediaId?i.media(e.MediaId).done(function(t){if(t&&t.Media){var r=t.Media.ClosedCaptions&&"ClosedCaptionSettings"in t.Media.ClosedCaptions?t.Media.ClosedCaptions.ClosedCaptionSettings:null,i=t.Media.Markers||null;if(r&&r.length>0)for(n=0;n<r.length;n+=1)s.push({language:r[n].Language,url:r[n].Url});else if(i&&i.length>0)for(n=0;n<i.length;n+=1){var o=i[n].ExternalConfiguration;if(o&&4===o.ExternalTypeCode)for(var u in o.Fields){var c=o.Fields[u];21===c.ExternalTypeFieldCode&&s.push({language:"caption_"+String(n+1),url:c.FieldValue})}}var l={AssociatedProductLobDeliveryCapabilityId:t.Media.AssociatedProductLobDeliveryCapabilityId,AvailableMedia:e.AvailableMedia,ChapterAlias:t.Media.ChapterAlias,Chapters:t.Media.Chapters,ClipDurationSeconds:t.Media.ClipDurationSeconds,ClipStartSeconds:t.Media.ClipStartSeconds,ContentUrl:e.ContentUrl,DisplayName:t.Media.DisplayName,DowngradedDueToOutputProtection:e.DowngradedDueToOutputProtection,HasInstream:t.Media.ClosedCaptions?t.Media.ClosedCaptions.HasInstream:null,LicenseRequestToken:e.LicenseRequestToken,Markers:t.Media.Markers,MediaId:t.Media.Id,ProgressSeconds:e.ProgressSeconds,Name:t.Media.Name,PauseForMarker:t.Media.PauseForMarker,SideloadedCaptions:s,ThumbnailUrl:t.Media.ThumbnailUrl,Type:t.Media.Type,UpdatedPolicies:e.UpdatedPolicies,ViewContentReference:e.ViewContentReference};a.resolve(l)}else a.reject(d.resources.invalidMediaResponse)}).fail(function(e){a.reject(e)}):a.reject(d.resources.invalidViewContentResponse)};return t?u(t):o.viewContent(e).done(function(e){u(e)}).fail(function(e){a.reject(e)}),a.promise()},retrieveEntitlementActions:function(e){var t=r.Deferred(),n=[],i=[];void 0!==e&&(e.productIds&&e.deliveryCapabilityIds||t.reject(d.resources.invalidRequest));for(var o=0;o<e.productIds.length;o+=1)n.push(a.retrieveProduct({ProductId:e.productIds[o],IncludeReferencedProductsContexts:!1}));return n.length>0?r.when.apply(null,n).done(function(){var o=[];n&&1===n.length?o.push(arguments[0]):r.each(arguments,function(e,t){o.push(t)});for(var a=0;a<o.length;a+=1){var d,u,c,l,m=!1,v=!1,h=!1,f=!1,p=[];if(o[a]&&o[a].product&&o[a].contexts&&1===o[a].contexts.length){d=o[a].product;var g,y,C,b,P,S=o[a].contexts[0];if(p=[],void 0!==d.PricingPlans){u=void 0;for(var I=0;I<d.PricingPlans.length&&void 0===g;I+=1)d.PricingPlans[I].Id===S.EntitledPricingPlanId&&(g=d.PricingPlans[I],u=S.EntitledPricingPlanId,c=g.Name);if(S.PurchasePolicies){for(var x=0;x<S.PurchasePolicies.length&&!b&&!P;x+=1)b||S.PurchasePolicies[x].ActionCode!==s.deliveryCapabilityAction.onlinePlayback||(b=S.PurchasePolicies[x]),P||S.PurchasePolicies[x].ActionCode!==s.deliveryCapabilityAction.download||(P=S.PurchasePolicies[x]);for(var O=0;O<S.PurchasePolicies.length&&!b&&!P;O+=1)b||S.PurchasePolicies[O].ActionCode!==s.deliveryCapabilityAction.all||(b=S.PurchasePolicies[O]),P||S.PurchasePolicies[O].ActionCode!==s.deliveryCapabilityAction.all||(P=S.PurchasePolicies[O])}}if(g){var R=new Date,T=g.AvailabilityStart?new Date(g.AvailabilityStart):R,A=g.AvailabilityEnd?new Date(g.AvailabilityEnd):R;T<=R&&R<=A&&(h=!0)}if(g&&g.DeliveryCapabilityActions&&g.DeliveryCapabilityActions.length>0){for(var w=0;w<g.DeliveryCapabilityActions.length;w+=1)y||g.DeliveryCapabilityActions[w].Code!==s.deliveryCapabilityAction.onlinePlayback||(y=g.DeliveryCapabilityActions[w]),C||g.DeliveryCapabilityActions[w].Code!==s.deliveryCapabilityAction.download||(C=g.DeliveryCapabilityActions[w]);for(var D=0;D<g.DeliveryCapabilityActions.length;D+=1)y||g.DeliveryCapabilityActions[D].Code!==s.deliveryCapabilityAction.all||(y=g.DeliveryCapabilityActions[D]),C||g.DeliveryCapabilityActions[D].Code!==s.deliveryCapabilityAction.all||(C=g.DeliveryCapabilityActions[D])}var U=[],M=[];if(y)for(var B=0;B<y.DeliveryCapabilities.length;B+=1)U.push(y.DeliveryCapabilities[B].Code);if(C)for(var F=0;F<C.DeliveryCapabilities.length;F+=1)M.push(C.DeliveryCapabilities[F].Code);for(var j=0;j<e.deliveryCapabilityIds.length;j+=1){var E=e.deliveryCapabilityIds[j];m=U.indexOf(E)>-1,v=M.indexOf(E)>-1,p.push({dcId:E,IsStreamingAvailable:m&&(!b||b.Available),IsDownloadAvailable:v&&(!P||P.Available),StreamingExpirationDate:b?b.ExpirationDate:void 0,DownloadExpirationDate:P?P.ExpirationDate:void 0}),(!f&&E===s.deliveryCapability.castSd||E===s.deliveryCapability.castHd)&&(f=m)}for(var k in p)l=p[k],l.dcId!==s.deliveryCapability.castSd&&l.dcId!==s.deliveryCapability.castHd&&(l.CanCast=f);g=void 0,y=void 0,C=void 0,b=void 0,P=void 0}i.push({ProductId:d.Id,IsAvailable:h,EntitledPricingPlanId:u,EntitledPricingPlanName:c,EntitlementActions:p})}t.resolve(i)}).fail(function(e){t.reject(e)}):t.reject(d.resources.noProductsRequested),t.promise()}}},function(e,t,n){"use strict";var r=n(3),i=n(58),o=n(60);e.exports={domain:"Simple",guidanceRatings:function(){var e=r.Deferred(),t={ratings:[],categories:[]},n=[];return n.push(i.codes(33)),n.push(i.codes(32)),r.when.apply(null,n).done(function(){r.each(arguments,function(e,n){0===e?t.ratings=n.Codes:1===e&&(t.categories=n.Codes)}),void 0!==t.ratings&&void 0!==t.categories?e.resolve(t):e.reject(o.getFault("systemError"))}).fail(function(){e.reject(o.getFault("systemError"))}),e.promise()}}},function(e,t,n){"use strict";var r=n(3),i=n(56),o=n(55);e.exports={domain:"Simple",retrieveExpandedWallet:function(e){var t=r.Deferred(),n={};return e.IncludePaymentInstruments||(e.IncludePaymentInstruments=!1),e.IncludeAddresses||(e.IncludeAddresses=!1),i.retrieveWallet({BrandableCurrency:e.BrandableCurrency,Currency:e.Currency,EnforceSessionCountry:e.EnforceSessionCountry,ReturnAccountBalances:e.ReturnAccountBalances}).done(function(a){n.wallet=a;var d=[];e.IncludeAddresses&&d.push(o.retrieveAddresses().done(function(e){e&&e.Addresses&&(n.addresses=e.Addresses)}).fail(function(e){t.reject(e)})),a&&a.PaymentInstruments&&e.IncludePaymentInstruments&&(n.retrievedPaymentInstruments=[],r.each(a.PaymentInstruments,function(e,r){d.push(i.retrievePaymentInstrument({Id:r.Id}).done(function(e){n.retrievedPaymentInstruments.push(e.PaymentInstrument)}).fail(function(e){t.reject(e)}))})),r.when.apply(null,d).done(function(){t.resolve(n)})}).fail(function(e){t.reject(e)}),t.promise()}}},function(e,t,n){"use strict";function r(e,t){var n=null;if(e&&e.length>0&&t&&t>0)for(var r=0,i=!1;r<e.length&&!i;r+=1)e[r].Id===t&&(n=e[r],i=!0);return n}var i=n(3),o=n(54),a=n(74),d=n(6),s=n(60);e.exports={domain:"Simple",submitOrderByType:function(e,t){var n=i.Deferred(),r=e||d.orderType.Order;switch(r){case d.orderType.Order:o.submitOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.AnonymousGiftOrder:o.submitAnonymousGiftOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.AnonymousOrder:o.submitAnonymousOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.GiftOrder:o.submitGiftOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.GiftRedemptionOrder:o.submitGiftRedemptionOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.ModifyOrder:o.submitModifyOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.RemoveOrder:o.submitRemoveOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.RenewOrder:o.submitRenewOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.RestoreOrder:o.submitRestoreOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;case d.orderType.UpgradeOrder:o.submitUpgradeOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)});break;default:o.submitOrder(t).done(function(e){e.OrderType=r,n.resolve(e)}).fail(function(e){e.OrderType=r,n.reject(e)})}return n.promise()},redeemCoupon:function(e,t){var n,d=i.Deferred();return i.when(o.searchProductsByCoupon({PageNumber:1,PageSize:100,RedemptionCode:e.RedemptionCode})).done(function(u){var c=[];t&&t.forEach(function(t){c.push(t(e.RedemptionCode))}),i.when.apply(null,c).done(function(){if(n=u,void 0!==u&&u.Products.length>0){for(var t=[],c=0,l=u.Products.length;c<l;c+=1){var m=a.retrieveProduct({ProductId:u.Products[c].Id,IncludeContext:!0,IncludeReferencedProductsContexts:!1,RedemptionCodes:[e.RedemptionCode]});m&&void 0!==m&&t.push(m)}t&&void 0!==t?i.when.apply(null,t).done(function(){var t=[];if(i.each(arguments,function(e,n){var i=n.product,o=n.contexts[0];if(o&&o.OrderablePricingPlans){for(var a,d=!1,s=0;s<o.OrderablePricingPlans.length&&!d;s+=1){var u=r(i.PricingPlans,o.OrderablePricingPlans[s].Id);u&&!u.Shipped&&(!u.Subscription||u.Subscription&&u.SubscriptionPolicy&&!u.SubscriptionPolicy.PaymentInstrumentRequired)&&o.OrderablePricingPlans[s].CouponApplied&&0===o.OrderablePricingPlans[s].DiscountedAmount&&(a=o.OrderablePricingPlans[s].Id,d=!0)}d&&t.push({ProductId:o.ProductId,PricingPlanId:a,Quantity:1})}}),t.length>0)i.when(o.submitOrder({ShoppingCart:{Items:t},UseDefaults:!1,RedemptionCodes:[e.RedemptionCode]})).done(function(e){d.resolve(e)}).fail(function(e){e.SearchProductsByCouponResults=n,d.reject(e)});else{var a=s.getFault("redeemCouponFreeOrderablePricingPlansNotFound");a.SearchProductsByCouponResults=n,d.reject(a)}}).fail(function(e){e.SearchProductsByCouponResults=n,d.reject(e)}):d.reject({SearchProductsByCouponResults:n})}else{var v=s.getFault("redeemCouponProductsForCouponNotFound");v.SearchProductsByCouponResults=n,d.reject(v)}}).fail(function(e){d.reject(e)})}).fail(function(e){d.reject(e)}),d.promise()},searchProductsWithContext:function(e){var t=i.Deferred(),n=[],r=[],d={};return o.searchProducts(e).done(function(e){if(e&&e.Products){var o=e.Products;i.each(o,function(e){var t=o[e].Id,n=a.retrieveProduct({ProductId:t,IncludeReferencedProductsContexts:!1});r.push(n)}),i.when.apply(null,r).done(function(){i.each(arguments,function(e,t){n.push(t)}),d={products:n,PageCount:e.PageCount,RecordCount:e.RecordCount},t.resolve(d)}).fail(function(e){t.reject(e)})}else t.reject(s.getFault("systemError"))}).fail(function(e){t.reject(e)}),t.promise()},retrieveShoppingCartTermsAndConditions:function(e){var t=i.Deferred(),n=[],r=[];return e&&e.Items&&e.Items.length?(i.each(e.Items,function(e,t){n.push(a.retrieveProduct({ProductId:t.ProductId,IncludeReferencedProductsContexts:!1}))}),i.when.apply(null,n).done(function(){var n,o,a,d;i.each(arguments,function(t,s){n=s.product.Id,o=s.product.Name,a=i.grep(e.Items,function(e){return e.ProductId===n})[0].PricingPlanId,d=i.grep(s.product.PricingPlans,function(e){return e.Id===a})[0],d&&r.push({ProductId:n,ProductName:o,PricingPlanId:a,TermsAndConditions:d.TermsAndConditions})}),t.resolve(r)}).fail(function(e){t.reject(e)})):t.reject(s.resources.noProductsRequested),t.promise()},calculateOrderQuote:function(e){var t=i.Deferred();return o.calculateOrderQuote(e).done(function(e){var n=i.grep(e.Quote.Items,function(e){return e.Product.StructureType===d.productStructureType.bundle||e.Product.StructureType===d.productStructureType.episodicBundle||!e.ParentId&&e.Product.StructureType===d.productStructureType.alacarte}),r=i.grep(e.Quote.Items,function(e){return e.Product.StructureType===d.productStructureType.alacarte&&e.ParentId}),o=[];i.each(n,function(e,t){o=[],i.each(r,function(e,n){n.ParentId===t.Id&&o.push(n)}),t.ChildItems=o}),e.Quote.Items=n,t.resolve(e)}).fail(function(e){t.reject(e)}),t.promise()},searchOrders:function(e){function t(e,t){var n={orderItems:[]};i.each(t.OrderItems,function(t,r){if(r.Product.StructureType===d.productStructureType.bundle||r.Product.StructureType===d.productStructureType.picklist)n.orderItems.push(r);else if(r.ParentOrderItemId){for(var i=null,o=0;o<e.length;o+=1)e[o].Id===r.ParentOrderItemId&&(i=e[o]);i?i.Children.push(r):n.orderItems.push(r)}else n.orderItems.push(r)}),n.orderItems.length>0&&(t.OrderItems=n.orderItems)}var n=i.Deferred();return o.searchOrders(e).done(function(e){i.each(e.Orders,function(e,n){var r=i.grep(n.OrderItems,function(e){return(e.Product.StructureType===d.productStructureType.bundle||e.Product.StructureType===d.productStructureType.picklist)&&(e.Children=[],!0)});r&&r.length&&t(r,n)}),n.resolve(e)}).fail(function(e){n.reject(e)}),n.promise()}}},function(e,t,n){"use strict";var r=n(3);e.exports={items:{},add:function(e,t){return void 0!==t&&void 0!==e&&(this.items[e]=t,!0)},clearAll:function(){return this.items={},!0},get:function(e){return void 0!==e&&"string"==typeof e&&(void 0!==this.items[e]?this.items[e]:void 0)},getKeys:function(){if(void 0!==this.items){var e=[];return r.each(this.items,function(t){e.push(t)}),void 0!==e&&e.length>0&&e}return!1},hasKey:function(e){return void 0!==e&&"string"==typeof e&&void 0!==this.items[e]},multi:function(e,t){if(!(void 0!==t&&void 0!==e&&t.length===e.length&&t.length>0))return!1;for(var n=0,r=t.length;n<r;n+=1){var i=t[n],o=e[n];void 0!==i&&void 0!==o&&this.add(o,i)}},remove:function(e){return void 0!==e&&(void 0!==this.items[e]&&delete this.items[e],!0)}}},function(e,t,n){"use strict";function r(e){return e===v||e!==l.consoleLevel.all&&e!==l.consoleLevel.debug&&e!==l.consoleLevel.none&&e!==l.consoleLevel.error||(v=e,o("Logging level is "+v)),v}function i(e){return v===l.consoleLevel.all||v==l.consoleLevel.debug||v!=l.consoleLevel.none&&"any"==e||v!=l.consoleLevel.none&&e==l.consoleLevel.error}function o(e,t){i("any")&&("undefined"!=typeof t&&(e="["+t+"] "+e),"object"==typeof console?console.log(e):(null===m&&(m=window.open()),m.document.write(e)))}function a(e){var t="string"!=typeof e?JSON.stringify(e):e;try{t=JSON.parse(t)}catch(n){return!1}return"object"==typeof t&&null!==t}function d(){for(var e="",t=0;t<arguments.length;t+=1)if("string"==typeof arguments[t])e+=arguments[t];else if(a(arguments[t]))e+=JSON.stringify(arguments[t]);else{e+="{";for(var n in arguments[t])e+=n+":"+arguments[t][n];e+="}"}return e}function s(){if(i("error")){var e=d.apply(null,arguments);"function"==typeof console.error?console.error(e):o(e,"!")}}function u(){if(i("debug")){var e=d.apply(null,arguments);"function"==typeof console.log&&console.log(e)}}function c(e){if(i("error")){var t="";"undefined"!=typeof e.fileName&&(t+=e.fileName+" "),"undefined"!=typeof e.lineNumber&&(t+=e.lineNumber+" "),"undefined"!=typeof e.number&&(t+=e.number),t.length>0&&(t+=":"),"undefined"!=typeof e.message&&(t+=e.message),"undefined"!=typeof e.description&&(t+="-"+e.description),"undefined"!=typeof e.stack&&(t+="; Stack: "+e.stack),"string"==typeof e&&(t+=e),s(t)}}var l=n(6),m=null,v="none";e.exports={log:u,error:s,exception:c,level:r,enabled:i}},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(84),a=n(85),d=a.hasSilverlight(a,window.navigator),s=o.getOS(window.navigator),u="windows"===s?o.getWinVersion(window.navigator):0;e.exports={os:s,browser:a.getBrowser(window.navigator),winVersion:u,hasSilverlight:d,helpers:{browser:a,os:o}},"android"===s?i.deviceType=r.deviceType.android:"ipad"===s?i.deviceType=r.deviceType.ipad:"iphone"===s?i.deviceType=r.deviceType.iphone:"iemobile"===s?i.deviceType=r.deviceType.iemobile:"windows"===s?i.deviceType=r.deviceType.windows:"mac"===s?i.deviceType=r.deviceType.mac:"linux"===s?i.deviceType=r.deviceType.linux:i.deviceType=r.deviceType.unknown},function(e,t){"use strict";e.exports={getOS:function(e){var t,n=e.appVersion.toLowerCase();return t=n.search("iphone")>=0?"iphone":n.search("ipad")>=0?"ipad":n.search("android")>=0?"android":n.search("iemobile")>=0?"iemobile":n.search("win")>=0?"windows":n.search("mac")>=0?"mac":n.search("linux")>=0?"linux":n.search("x11")>=0?"unix":void 0},getWinVersion:function(e){var t=e.appVersion.toLowerCase(),n=null;return t.search("win")>=0&&(n=t.search("windows nt 10.0")>=0?10:t.search("windows nt 6.3")>=0?8.1:t.search("windows nt 6.2")>=0?8:t.search("windows nt 6.1")>=0?7:6),n}}},function(e,t){"use strict";e.exports={getBrowser:function(e){var t={};t.version="",t.name=e.appName,t.userAgent=e.userAgent;var r;if((r=t.userAgent.indexOf("OPR/"))!==-1||(r=t.userAgent.indexOf("Opera"))!==-1&&!window.chrome){t.name="Opera";var i=r;i=t.userAgent.indexOf("OPR/")>-1?t.userAgent.indexOf("OPR/")+4:t.userAgent.indexOf("Version/")>-1?t.userAgent.indexOf("Version/")+8:r+6,t.version=t.userAgent.substring(i)}else if((r=t.userAgent.indexOf("MSIE"))!==-1||(r=t.userAgent.indexOf("Edge/"))!==-1||(r=t.userAgent.indexOf("Trident/"))!==-1){var o=n(e);t.name=o.name,t.version=o.version}else(r=t.userAgent.indexOf("Chrome"))!==-1&&window.chrome?(t.name="Chrome",t.version=t.userAgent.substring(r+7)):(r=t.userAgent.indexOf("Safari"))===-1||window.chrome?(r=t.userAgent.indexOf("Firefox"))===-1||window.chrome||(t.name="Firefox",t.version=t.userAgent.substring(r+8)):(t.name="Safari",t.version=t.userAgent.substring(r+7),(r=t.userAgent.indexOf("Version"))!==-1&&(t.version=t.userAgent.substring(r+8)));return t.version&&t.version.toString().indexOf(".")!==-1?t.version=+t.version.substring(0,t.version.toString().indexOf(".")):t.version&&(t.version=+t.version),t},hasSilverlight:function(e,t){var n=!1;if("IE"===e.name)try{var r=new window.ActiveXObject("AgControl.AgControl");r&&(n=!0)}catch(i){}else try{t.plugins["Silverlight Plug-In"]&&(n=!0)}catch(i){}return n}};var n=function(e){var t={},n=e.userAgent,r=n.indexOf("MSIE "),i=n.indexOf("Edge/"),o=n.indexOf("Trident/");if(r!==-1)t.name="IE",t.version=parseInt(n.substring(r+5,n.indexOf(".",r)),10);else if(o!==-1){var a=n.indexOf("rv:");t.name="IE",t.version=parseInt(n.substring(a+3,n.indexOf(".",a)),10)}else i!==-1&&(t.name="Edge",t.version=parseInt(n.substring(i+5,n.indexOf(".",i)),10));return t}},function(e,t,n){"use strict";var r=n(2);e.exports={domain:"LineOfBusiness",searchAvailableTelephoneNumbers:function(e){var t={method:"SearchAvailableTelephoneNumbers",domain:this.domain,data:{AddressInformation:e}};return r(t)}}}]);